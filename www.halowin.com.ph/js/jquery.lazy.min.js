!function(t,e){"use strict";function r(r,o){var l=this,u=a.extend({},l.config,o),f={},c=u.name+"-"+ ++n;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return f.a&&f.a("string"===a.type(t)?a(t):t),l},l.getItems=function(){return f.g?f.g():{}},l.update=function(t){return f.e&&f.e({},!t),l},l.force=function(t){return f.f&&f.f("string"===a.type(t)?a(t):t),l},l.loadAll=function(){return f.e&&f.e({all:!0},!0),l},l.destroy=function(){return a(u.appendScroll).off("."+c,f.e),a(t).off("."+c),f={},e},function r(n,o,l,u,f){function c(){var e,r,i,c;_=t.devicePixelRatio>1,l=s(l),o.delay>=0&&setTimeout(function(){d(!0)},o.delay),(o.delay<0||o.combined)&&(u.e=(e=o.throttle,r=function(t){"resize"===t.type&&(p=y=-1),d(t.all)},c=0,function(t,a){function l(){c=+new Date,r.call(n,t)}var u=+new Date-c;i&&clearTimeout(i),u>e||!o.enableThrottle||a?l():i=setTimeout(l,e-u)}),u.a=function(t){t=s(t),l.push.apply(l,t)},u.g=function(){return l=a(l).filter(function(){return!a(this).data(o.loadedName)})},u.f=function(t){for(var e=0;e<t.length;e++){var r=l.filter(function(){return this===t[e]});r.length&&d(!1,r)}},d(),a(o.appendScroll).on("scroll."+f+" resize."+f,u.e))}function s(t){var r=o.defaultImage,i=o.placeholder,l=o.imageBase,u=o.srcsetAttribute,f=o.loaderAttribute,c=o._f||{};t=a(t).filter(function(){var t=a(this),r=h(this);return!t.data(o.handledName)&&(t.attr(o.attribute)||t.attr(u)||t.attr(f)||c[r]!==e)}).data("plugin_"+o.name,n);for(var s=0,d=t.length;s<d;s++){var A=a(t[s]),g=h(t[s]),m=A.attr(o.imageBaseAttribute)||l;g===L&&m&&A.attr(u)&&A.attr(u,b(A.attr(u),m)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===L&&r&&!A.attr(N)?A.attr(N,r):g===L||!i||A.css(E)&&"none"!==A.css(E)||A.css(E,"url('"+i+"')")}return t}function d(t,e){if(!l.length)return void(o.autoDestroy&&n.destroy());for(var r=e||l,i=!1,u=o.imageBase||"",f=o.srcsetAttribute,c=o.handledName,s=0;s<r.length;s++)if(t||e||g(r[s])){var d=a(r[s]),b=h(r[s]),m=d.attr(o.attribute),v=d.attr(o.imageBaseAttribute)||u,$=d.attr(o.loaderAttribute);d.data(c)||o.visibleOnly&&!d.is(":visible")||!((m||d.attr(f))&&(b===L&&(v+m!==d.attr(N)||d.attr(f)!==d.attr(I))||b!==L&&v+m!==d.css(E))||$)||(i=!0,d.data(c,!0),A(d,b,v,$))}i&&(l=a(l).filter(function(){return!a(this).data(c)}))}function A(t,e,r,n){++$;var i=function(){v("onError",t),m(),i=a.noop};v("beforeLoad",t);var l=o.attribute,u=o.srcsetAttribute,f=o.sizesAttribute,c=o.retinaAttribute,s=o.removeAttribute,d=o.loadedName,A=t.attr(c);if(n){var g=function(){s&&t.removeAttr(o.loaderAttribute),t.data(d,!0),v(z,t),setTimeout(m,1),g=a.noop};t.off(w).one(w,i).one(B,g),v(n,t,function(e){e?(t.off(B),g()):(t.off(w),i())})||t.trigger(w)}else{var h=a(new Image);h.one(w,i).one(B,function(){t.hide(),e===L?t.attr(D,h.attr(D)).attr(I,h.attr(I)).attr(N,h.attr(N)):t.css(E,"url('"+h.attr(N)+"')"),t[o.effect](o.effectTime),s&&(t.removeAttr(l+" "+u+" "+c+" "+o.imageBaseAttribute),f!==D&&t.removeAttr(f)),t.data(d,!0),v(z,t),h.remove(),m()});var b=(_&&A?A:t.attr(l))||"";h.attr(D,t.attr(f)).attr(I,t.attr(u)).attr(N,b?r+b:null),h.complete&&h.trigger(B)}}function g(e){var r=e.getBoundingClientRect(),n=o.scrollDirection,i=o.threshold,l=(y>=0?y:y=a(t).height())+i>r.top&&-i<r.bottom,u=(p>=0?p:p=a(t).width())+i>r.left&&-i<r.right;return"vertical"===n?l:"horizontal"===n?u:l&&u}function h(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function m(){--$,l.length||$||v("onFinishedAll")}function v(t,e,r){return!!(t=o[t])&&(t.apply(n,[].slice.call(arguments,1)),!0)}var $=0,p=-1,y=-1,_=!1,z="afterLoad",B="load",w="error",L="img",N="src",I="srcset",D="sizes",E="background-image";"event"===o.bind||i?c():a(t).on(B+"."+f,c)}(l,u,r,f,c),u.chainable?r:l}var a=t.jQuery||t.Zepto,n=0,i=!1;a.fn.Lazy=a.fn.lazy=function(t){return new r(this,t)},a.Lazy=a.lazy=function(t,n,i){if(a.isFunction(n)&&(i=n,n=[]),a.isFunction(i)){t=a.isArray(t)?t:[t],n=a.isArray(n)?n:[n];for(var o=r.prototype.config,l=o._f||(o._f={}),u=0,f=t.length;u<f;u++)(o[t[u]]===e||a.isFunction(o[t[u]]))&&(o[t[u]]=i);for(var c=0,s=n.length;c<s;c++)l[n[c]]=t[0]}},r.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},a(t).on("load",function(){i=!0})}(window);